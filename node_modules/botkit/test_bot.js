
if (!process.env.token) {
    console.log('Error: Specify token in environment');
    process.exit(1);
}

var Botkit = require('./lib/Botkit.js');
var os = require('os');

var controller = Botkit.slackbot({
    debug: false,
});

var bot = controller.spawn({
    token: process.env.token
}).startRTM();


controller.on('direct_message', function(bot, message) {

    bot.startConversation(message, function(err, convo) {

        convo.ask('Q: Question', function(res, convo) {
            convo.say(res.text);
            convo.next();
            convo.ask('Q2: Question 2', function(res, convo) {
                convo.say('Final: ' + res.text);
                convo.next();
            });
        });

    });

});
